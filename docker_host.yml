- hosts: all
  become: yes
  gather_facts: no
  pre_tasks:
   - name: bootstrap python for ansible
     raw: test -e /usr/bin/python || (apt -y update && apt install -y python-minimal)
     changed_when: False
   - setup:
  vars:
   - ssh_port: 22
   - hostname: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          39306162346338343833343633656632366132366232316536393533343865383066316165303334
          6139386339633131306365373366636233336439663830640a306564303733636663386538623365
          61326464326336303465376536633838353337626432363565653439323330376163346232393538
          3162323064623266300a333839653561373739353133653565303662303835366638643839353434
          3830
   - domain: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          30376239383564663737393165333062336465353561386331393735323464363137663239636232
          3565633063326437396165303839363664613839656662330a343639653330373964363436663639
          64653835616435336366623663346235346232323463303031383134346633626132356466653430
          3930316534343137340a663261653363643637646437386332366532336430316334363466306234
          6361
   - email: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          33313439653530393238353633643333333537623332353434646530666164646561663237636338
          3635343639343835383837643663666336363463353364650a376666306533626130633636333862
          39353034333730616236396236306363616437636361313064613136633165316435656432376335
          3565313938346430390a366636383730353562383330353330653562393232643236363531643465
          36613032383066326561353437313464356164306433616335383665343637316563
   - cloudflare_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          62303935353861386231333863336535623665666166346534316561626436373137376535613434
          3562653365363764346664666266626135353839343166380a336437386166613235363761643365
          36383761323963613963333034316435306134646438363664623762623766333134323536653331
          3334653430383633370a323132653065393161383538373264306162636564663130376437663863
          38373261303136366432646639323763613434316236393737383035323663633437663134396335
          3663323237396464366232636662626462346562346536333639
   - auth_username: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          31373666363038343432313464653131633230653239336161396339366535663163316136613638
          6633383431356337363133376331666263633532366637390a643139633261636138333166373535
          66633539313733613432623762666133326435363262646538636661363939616663643139313562
          6565316364376139660a353462373738366431363962303833363261633737626564313662343435
          6564
   - auth_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          36343630373665376430333263643133663330356234613430313164346536626137653062393166
          6165383162346362323763313337626631393365373764360a663332346361393264363234333033
          39353835353539386239393964313332663964616533323538343230306138346464303833633862
          3036666638626463330a653463383235633435346334633365623363356431303861666437626262
          6338
   - nfs_host: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          34396434356435333933366562326664636130383566343462623762353961366533626264333237
          3664663133643361386166616631316562646535663363660a353732346631343038303437356536
          33383130306234316563386332666564356133303266303731646339373434333138366333636139
          3431616434386562320a633961386163383136653531363835353438643733323130323765623262
          6263
   - nfs_path: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          31633461306334333932626461643037363933613839656132633364363338643338376635313734
          3761366534636463666166613531303135653631336233380a623038666166653831366232333736
          66303435373063666335383563653866353336643566393462386637386139333731643365623461
          3161393735613732300a366335383237313533303265383264363438656664646136353836653539
          66306136363535646162306630663834306539343836323434346261616439353036
  roles:
   - common
   - ufw
   - nfs
   - ddclient
#   - docker_pihole
#   - docker_ddclient
   - docker_portainer
   - docker_plex
   - docker_guacamole
   - docker_nextcloud
   - docker_vpn_client
   - docker_transmission
   - docker_sonarr
   - docker_radarr
   - docker_jackett